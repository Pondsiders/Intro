# Intro - Development Configuration

services:
  intro:
    dns:
      - ${TAILSCALE_DNS:-100.100.100.100}
      - ${PUBLIC_DNS:-1.1.1.1}
    dns_search:
      - ${TAILSCALE_SEARCH:-tail8bd569.ts.net}
    build: .
    volumes:
      # Dev mode: mount source for hot reload
      - ./src:/app/src:ro
      - ./prompt.md:/app/prompt.md:ro
    environment:
      - REDIS_URL=${REDIS_URL}
      - OLLAMA_URL=${OLLAMA_URL}
      - OLLAMA_MODEL=${OLLAMA_MODEL:-olmo3:7b}
      - OTEL_EXPORTER_OTLP_ENDPOINT=${OTEL_EXPORTER_OTLP_ENDPOINT}
      - OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf
    restart: unless-stopped
